<!DOCTYPE html>
<html>
	<head>
		<title>Miguel's template</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css"/>
		<noscript><link rel="stylesheet" href="assets/css/noscript.css"/></noscript>
		<style>
			.table-custom tr, td {
				border: none;
				background-color: rgb(196, 223, 223);
				width: 50%
			}

			.button {
				width: 25%;
				background-color: aliceblue;
			}

			.button img {
				max-width: 100%;
				max-height: 100%;
				height: auto;
				display: block;
				margin: 0 auto;
			}

			.override {
				text-transform: inherit;
				color: #585858;
				display: inline-block;
				border-bottom: 2px solid #585858;
				margin-bottom: 3%;
			}

			.dropdown-content {
			display: none;
			}

            .dropdown-content p {
				margin-bottom: 1.5%;
			}

			.center {
                text-align: center; /* Center-align the content */
                margin-top: 3%;
            }

			.center img {
                display: block; /* Ensure the image is treated as a block-level element */
				width: 100%;
                margin: 0 auto; /* Center the image horizontally */
            }

			
			.center2 img{
				display: block; /* Ensure the image is treated as a block-level element */
				width: 60%;
                margin: 0 auto; /* Center the image horizontally */
			}

			.center2 {
				text-align: center; /* Center-align the content */
                margin-top: 3%;
			}

            .center figcaption {
                margin-top: 10px; /* Optional: Add margin between image and caption */
            }

			ul {
				padding-left: 5%;
			}

			ol {
				padding-left: 5%;
			}

			section p{
				margin-bottom: 1.5%;
			}

			.footer div p {
				margin-bottom: 1%;
				width: 100%;
				word-wrap: break-word;
			}

			.dropdown-content div {
				margin: auto;
				width: 60%;
				border: 8px solid red;
				padding: 10px;
				align-items: center;
				text-align: center;
        	}


		</style>
    </head>
	<body class="is-preload">
		<header id="header" style="margin-bottom: 0%;">
			<div class="inner">

				<!-- Nav -->
					<nav>
						<ul>
							<li><a href="#menu">Menu</a></li>
						</ul>
					</nav>

			</div>
		</header>
		<nav id="menu">
			<h2>Unit selector</h2>
			<ul>
				<li><a href="Unit1.html">Unit 1</a></li>
				<li><a href="Unit2.html">Unit 2</a></li>
				<li><a href="Unit3.html">Unit 3</a></li>
				<li><a href="Unit4.html">Unit 4</a></li>
				<li><a href="Unit5.html">Unit 5</a></li>
				<li><a href="Unit6.html">Unit 6</a></li>
				<li><a href="Unit7.html">Unit 7</a></li>
				<li><a href="Unit8.html">Unit 8</a></li>
				<li><a href="Unit9.html">Unit 9</a></li>
				<li><a href="Unit10.html">Unit 10</a></li>
				<li><a href="Unit11.html">Unit 11</a></li>
				<li><a href="Unit12.html">Unit 12</a></li>
			</ul>
		</nav>
		<div id="wrapper" style="margin-top: 0%">
			<div id="main" style="padding-bottom: 4%;">
				<div class="inner">
					<table class="table-custom">
						<tr>
							<td>
								<h1>Unit 6</h1>
							</td>
							<td style="text-align: right;">
								<button class="button" id="press"><img src="images/backarrow.png" alt=""></button>
							</td>
						</tr>
						<tr>
							<td colspan="2">
								<h2>Using Linters to Support Python Testing</h2>
							</td>
						</tr>
					</table>
					<section>
						<h3 class="override">Short reflection</h3>
						<p>During this unit, I spent my time learning and developing a GUI for my system implementation using Tkinter. I know the project requirements set the user interface (UI) to be effectively done via the command line interface (CLI), but wanted the login to look like a real app and then jump into the terminal. It looks very good to me, and really enjoyed working on the front-end for a bit.</p>
						<p>I implemented a password generator and regex password checker, so it would comply with point 8 on measures to enforce security in software by Saltzer and Schroeder () [INCLUDE REFERENCE!!!]. This point recommend not to rely on user knowledge to implement restrictions, so you really force them down the secure path rather than leave room for decision.</p>
						<p>I am still to define the system architecture and define how to retain data and pass it to the program while changing it. A server using flask? A text file that acts as a database?</p>
						<p>Our group submitted the design document this week, we are very happy with the result, and it has been really good working with my classmates.</p>
						<p>The way forward is pretty daunting, but I will try my best to do well.</p>
					</section>
					<hr>
					<section>
						<h3 class="override">Unit activities</h3>
                        <button class="button primary" style="width: 100%; margin-bottom: 2%; word-wrap: break-word;" onclick="toggleDropdown('dropdown1')">Seminar Activity: Exploring Linters to Support Testing in Python</button>
                        <div style="width: 100%" id="dropdown1" class="dropdown-content">
							<p>This exercise required me to test some of the most famous linter frameworks on a given script.</p>
							<p><b>Pylint question</b></p>
							<p><u>What happens when the code is run? Can you modify this code for a more favourable outcome? What amendments have you made to the code?</u></p>
							<p>After installing Pylint, I ran the pylintTest.py script and these were the flagged errors: </p>
							<figure class="center">
								<img src="images/pylint1.png" alt="Pylint output">
								<figcaption style="margin-bottom: 5%;">Fig. 1: Parsing error</figcaption>
							</figure>
							<p>After correcting the parsing error, I ran pylint again, and this time so many errors popped up. This was the output: </p>
							<figure class="center">
								<img src="images/pylint2.png" alt="Pylint output">
								<figcaption style="margin-bottom: 5%;">Fig. 2: Pylint errors</figcaption>
							</figure>
							<p>For the next iteration, these were the prompted changes:</p>
							<figure class="center">
								<img src="images/pylint3.png" alt="Pylint output">
								<figcaption style="margin-bottom: 5%;">Fig. 3: Pylint errors 2</figcaption>
							</figure>
							<p>After all these changes this is the clean, ordered code with no errors:</p>
							<pre>
								<code>
# SOURCE OF CODE: https://docs.pylint.org/en/1.6.0/tutorial.html

"""This is the docstring"""

import string

SHIFT = 3
choice = input("would you like to encode or decode?")
word = input("Please enter text")
LETTERS = string.ascii_letters + string.punctuation + string.digits
ENCODED = ''
if choice == "encode":
    for letter in word:
        if letter == ' ':
            ENCODED += ' '
        else:
            X = LETTERS.index(letter) + SHIFT
            ENCODED = ENCODED + LETTERS[X]
        if choice == "decode":
            for letter in word:
                if letter == ' ':
                    ENCODED = ENCODED + ' '
                else:
                    X = LETTERS.index(letter) - SHIFT
                    ENCODED = ENCODED + LETTERS[X]

print(ENCODED)
# End of file
								</code>
							</pre>
							<p><b>Flake 8 question</b></p>
							<p><u>Review the errors returned. In what way does this error message differ from the error message returned by pylint? Run flake8 on metricTest.py. Can you correct each of the errors returned by flake8? What amendments have you made to the code?</u></p>
							<p>The first check when passing pylintTest.py through flake 8 is the same error Pylint initially flagged, which was the missing parenthesis in the last print statement, with a different error code:</p>
							<figure class="center">
								<img src="images/flake8-1.png" alt="Flake8 output">
								<figcaption style="margin-bottom: 5%;">Fig. 4: Flake8 SyntaxError</figcaption>
							</figure>
							<p>That being corrected, these are the spotted errors:</p>
							<figure class="center">
								<img src="images/flake8-2.png" alt="Flake8 output">
								<figcaption style="margin-bottom: 5%;">Fig. 5: Flake8 errors</figcaption>
							</figure>
							<p>There are less corrections than what pylint spotted, and the common mistakes essentially were the wrong indentation inside the if statement, the whitespace at the end of my file and the raw_input variable not being defined. So far, I liked pylint’s consistency a little better, prompting me to create a docstring at the beginning of the file and checking for unnecessary punctuation like double parenthesis.</p>
							<p>However, and this point probably comes down to personal preference, I found that Pylint has a feature which treats every variable that’s defined outside any other structure (function, class…) as a constant. To some extent it is true, so wants these to be capitalised. 
								Some people like it and some do not, but in my case it would work fine, as for instance the GUI with TKINTER requires of a few variable constants that are defined at the beginning of the program. Capitalising helps me visualize them in the program.</p>
							<p>When running flake8 and pylint through metricTest.py, things changed as it flagged errors like SyntaxErrors and IndentationErrors in a one by one approach. I found this rather inconvenient, instead of parsing the complete file, apparently cannot progress if one of these compilation errors (big errors) happen. Correcting the indentation errors helped me see how my Pycharm IDE (JetBrains, 2024) handles this. 
								I realised it places several bars at the indentation level of every layer to see the different indentation levels better, as well as number of spaces. So if bars were to appear too close to one another, something is likely to be wrong. These were the flagged errors after the indentation correction:</p>
							<figure class="center">
								<img src="images/flake8-3.png" alt="Flake8 output">
								<figcaption style="margin-bottom: 5%;">Fig. 6: Flake8 errors 2</figcaption>
							</figure>
							<p>This is the corrected, free of errors code:</p>
							<pre>
								<code>
# CODE SOURCE: SOFTWARE ARCHITECTURE WITH PYTHON

"""
2 Module metricTest.py
3
4 Metric example - Module which is used as a testbed for static
checkers.
5 This is a mix of different functions and classes doing
different things.
6
7 """
import random


def fn(x, y):
    """ A function which performs a sum """
    return x + y


def find_optimal_route_to_my_office_from_home(start_time,
                                              expected_time,
                                              favorite_route='SBS1K',
                                              favorite_option='bus'):
    d = (expected_time - start_time).total_seconds() / 60.0

    if d &lt= 30:
        return 'car'

    # If d>30 but &lt45, first drive then take metro
    if 30 &lt d &lt 45:
        return 'car', 'metro'

    # If d>45 there are a combination of options
    # Writing Modifiable and Readable Code

    if d > 45:
        if d &lt 60:
            # First volvo,then connecting bus
            return ('bus:335E', 'bus:connector')
        elif d > 80:
            # Might as well go by normal bus
            return random.choice(('bus:330', 'bus:331', ':'.
                                  join((favorite_option,
                                        favorite_route))))
        elif d > 90:
            # Relax and choose favorite route
            return ':'.join((favorite_option, favorite_route))


class C(object):
    """ A class which does almost nothing """

    def __init__(self, x, y):
        self.x = x
        self.y = y

    def f(self):
        pass

    def g(self, x, y):

        if self.x > x:
            return self.x + self.y
        elif x > self.x:
            return x + self.y


class D(C):
    """ D class """

    def __init__(self, x):
        self.x = x

    def f(self, x, y):
        if x > y:
            return x - y
        else:
            return x + y

    def g(self, y):

        if self.x > y:
            return self.x + y
        else:
            return y - self.x

								</code>
							</pre>
							<p><b>Mccabe question</b></p>
							<p><u>Run mccabe on sums.py. What is the result?Run mccabe on sums2.py. What is the result? What are the contributors to the cyclomatic complexity in each piece of code?</u></p>
							<p>In mccabe’s section, I struggled to get the mccabe’s library to work, and I managed to find an alternative solution which is Radon (Lacchia, 2023). The “radon cc” tool also performs Cyclomatic Complexity statically in the code. This is how the prompts are built:</p>
							<p style="text-align: center;"><em>radon cc sums.py</em></p>
							<p>For the first script, sums.py, the complexity was categorised as simple (rank A). The F at the beginning of the statement suggests that at row 4 column 0 of our script, a function is being evaluated:</p>
							<div class="align_center">
								<p><b style="color: black; font-size: xx-large;"><span style="color: purple;">F</span> 4:0 test_sum - <span style="color: green;">A (2)</span></b></p>
							</div>
							<figcaption style="margin-bottom: 5%; text-align: center;">Fig. 7: Mccabe operation 1</figcaption>
							<p>For the second script, sums2.py, the same score is achieved in both of its functions, as it is exactly the same operation, with rank A (2):</p>
							<div class="align_center">
								<p><b style="color: black; font-size: xx-large;"><span style="color: purple;">F</span> 4:0 test_sum - <span style="color: green;">A (2)</span></b></p>
								<p><b style="color: black; font-size: xx-large;"><span style="color: purple;">F</span> 7:0 test_sum_tuple - <span style="color: green;">A (2)</span></b></p>
							</div>
							<figcaption style="margin-bottom: 5%; text-align: center;">Fig. 8: Mccabe operation 2</figcaption>
							<p>The rank thresholds are the following:</p>
							<figure class="center2">
								<img src="images/mccabe_ranks.png" alt="Mccabe Ranks">
								<figcaption style="margin-bottom: 5%;">Fig. 9: Lacchia (2020)</figcaption>
							</figure>
						</div>
                    </section>
				</div>
			</div>
			<footer id="footer" style="padding-top: 3%;" class="footer">
				<div class="inner">
					<h3 class="override">References</h3>
					<p>Stack Overflow (2016). Is there a standard way to partition an interable into equivalence classes given a relation in python? [online] Available at: https://stackoverflow.com/questions/38924421/is-there-a-standard-way-to-partition-an-interable-into-equivalence-classes-given/38924631#38924631 [Accessed 6 May 2024].</p>
					<p>Lacchia, M. (2023). radon: Code Metrics in Python. [online] PyPI. Available at: https://pypi.org/project/radon/ [Accessed 6 May 2024].</p>
					<p>JetBrains. (2024). PyCharm 2024 [Computer software]. JetBrains. https://www.jetbrains.com/pycharm/ [Accessed 6 May 2024].</p>
					<p>Lacchia, M. (2020). Using radon programmatically. [online] readthedocs. Available at: https://radon.readthedocs.io/en/latest/api.html#module-radon.complexity [Accessed 7 May 2024].</p>
				</div>
			</footer>
		</div>
		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/js/browser.min.js"></script>
		<script src="assets/js/breakpoints.min.js"></script>
		<script src="assets/js/util.js"></script>
		<script src="assets/js/main.js"></script>
		<script>
			const button = document.getElementById("press");
			// Add event listener to the button
			button.addEventListener("click", function() {
				// Navigate to the desired HTML page when the button is clicked
				window.location.href = "secure_soft.html";
			});
		</script>
        <script>
            // Function to toggle the dropdown content
            function toggleDropdown(dropdownId) {
              var dropdownContent = document.getElementById(dropdownId);
              if (dropdownContent.style.display === "block") {
                dropdownContent.style.display = "none";
            } else {
                dropdownContent.style.display = "block";
            }
            }
        </script>
	</body>
</html>